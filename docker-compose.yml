services:
  dumpsterr:
    build: .
    image: dumpsterr:latest
    container_name: dumpsterr
    volumes:
      # Mount your config file
      - ./data/config.yml:/app/data/config.yml:ro
      # Mount your media directories (adjust paths as needed)
      # Add more directories as required, ensuring they match those in config.yml
      - /media/plex/movies:/media/movies:ro
      - /media/plex/shows:/media/shows:ro
      # Mount log file to access cron logs
      - dumpsterr-logs:/var/log
    restart: unless-stopped
    environment:
      - TZ=America/Chicago  # Set your timezone
      - PLEX_URL=http://your-plex-server:32400  # Change to your Plex server URL
      - PLEX_TOKEN=your-plex-token-here  # Get from https://support.plex.tv/articles/204059436-finding-an-authentication-token-x-plex-token/

volumes:
  dumpsterr-logs:
